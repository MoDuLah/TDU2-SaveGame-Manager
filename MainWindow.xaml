<Window x:Name="SaveGameManager"
        x:Class="TDU2SaveGameManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:p="clr-namespace:TDU2SaveGameManager.Properties"
        xmlns:local="clr-namespace:SaveGameManager"
        mc:Ignorable="d"
        Background="{x:Null}" SizeToContent="WidthAndHeight"
        Opacity="{Binding Source={x:Static p:Settings.Default}, Path=MainWindowOpacity, Mode=OneWay}" 
        Title="{Binding ApplicationTitle}" ResizeMode="NoResize" WindowStartupLocation="CenterScreen" Icon="/Images/Save.png">
    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="/Images/BG.png" Opacity="{Binding Source={x:Static p:Settings.Default}, Path=BGOpacity, Mode=OneWay}"/>
        </Grid.Background>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="20"/>
            <ColumnDefinition Width="Auto" MinWidth="300" MaxWidth="300"/>
            <ColumnDefinition Width="Auto" MaxWidth="100"/>
            <ColumnDefinition Width="Auto" MinWidth="300" MaxWidth="300"/>
            <ColumnDefinition Width="20"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
        </Grid.RowDefinitions>

        <!-- Title and path for FoldersListBox -->
        <DockPanel Grid.Column="1" Grid.Row="1" Background="#CCFFFFFF">
            <TextBlock DockPanel.Dock="Top" Text="Folders" Margin="10,10,0,0" FontWeight="Bold" FontSize="16" Foreground="Gray"/>
            <TextBlock x:Name="SaveLocation" DockPanel.Dock="Bottom" Text="{Binding}" Margin="10,0,0,0" Grid.Column="0" Grid.Row="0" FontWeight="Bold" FontSize="8" Foreground="Gray"/>
        </DockPanel>
        <Button Grid.Column="2" Grid.Row="1" Margin="10" Click="ChooseBackupFolderButton_Click" HorizontalAlignment="Center">
            <Image Source="/Images/Folder.png"/>
        </Button>
        <!-- Title and path for BackupsListBox -->
        <DockPanel Grid.Column="3" Grid.Row="1" Background="#CCFFFFFF">
            <TextBlock DockPanel.Dock="Top" Text="Backups" Margin="10,10,0,0" FontWeight="Bold" FontSize="16" Foreground="Gray"/>
            <TextBlock DockPanel.Dock="Bottom" x:Name="BackupLocation" Text="{Binding}" Margin="10,0,0,0" FontWeight="Bold" FontSize="8" Foreground="Gray"/>
        </DockPanel>
        <ListBox x:Name="FoldersListBox" SelectedIndex="0" Grid.Column="1" Grid.Row="2" Grid.RowSpan="2" Margin="10" Background="#CCFFFFFF"/>
        <ListBox x:Name="BackupsListBox" Grid.Column="3" Grid.Row="2" Grid.RowSpan="2" Margin="10" Background="#CCFFFFFF"/>

        <Button Content="Backup" Grid.Column="2" Grid.Row="2" Margin="10" Click="BackupButton_Click" HorizontalAlignment="Center" VerticalAlignment="Bottom"/>
        <Button Content="Restore" Grid.Column="2" Grid.Row="3" Margin="10" Click="RestoreButton_Click" HorizontalAlignment="Center"/>

        <DockPanel x:Name="ErrorPanel" Grid.Column="1" Visibility="Collapsed" Grid.Row="4" Grid.ColumnSpan="3" LastChildFill="True" MaxWidth="700" Background="#CCD3D3D3" Margin="10">
            <!-- ProgressBar for showing the progress -->
            <ProgressBar DockPanel.Dock="Top" x:Name="ProgressBar" Margin="10" Height="20" Visibility="Visible" Minimum="0" Maximum="100" Value="0"/>
            <!-- Error message -->
            <TextBlock DockPanel.Dock="Bottom" x:Name="ErrorTextBlock" Text=" " Margin="10" Foreground="Black" FontSize="14" FontWeight="Bold" VerticalAlignment="Center" TextWrapping="Wrap"/>
        </DockPanel>
    </Grid>
</Window>
